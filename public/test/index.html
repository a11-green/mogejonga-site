<!DOCTYPE html>
<head>
    <meta charset="UTF-8" />

    <!-- for PyScript -->
    <!-- <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script> -->

    <!-- for danfo.js-->
    <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.js"></script>
</head>
<body >
    <h1>results</h1>
    <button class="button" type="button" onclick="displayTable(2016)">2016</button>
    <button class="button" type="button" onclick="displayTable(2017)">2017</button>
    <button class="button" type="button" onclick="displayTable(2018)">2018</button>
    <button class="button" type="button" onclick="displayTable(2019)">2019</button>
    <button class="button" type="button" onclick="displayTable(2020)">2020</button>
    <button class="button" type="button" onclick="displayTable(2021)">2021</button>
    <button class="button" type="button" onclick="displayTable(202205)">2022-1</button>
    
    <h2>list of result</h2>
    <div id="table"></div>
    <div id="history"></div>
    <script>
        function displayTable(year) {
            dfd.readCSV(`https://raw.githubusercontent.com/a11-green/mogejonga-site/main/db/csv/data${year}.csv`)
            .then(df => {
                df.plot("table").table();

                const layout = {
                    title: "Point History",
                    xaxis: {
                        title: "X",
                    },
                    yaxis: {
                        title: "Y",
                    },
                };

                const config = {
                    columns: ["point"],
                };
                df.query(df["name"].eq("浅野")).setIndex({ column: "game" }).plot("history").line({layout, config});
                var sum = df.query(df["name"].eq("浅野"))["point"].sum({axis: 0}); 
                console.log(sum);
            })
            .catch(err => {
                console.log(err);
            }) 
        }
    </script>


</body>



